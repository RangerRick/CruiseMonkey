<script type="text/ng-template" id="template/login.html">
  <ion-modal-view ng-class="'fit'">
    <ion-content scroll="false" ng-controller="CMLoginCtrl">
      <div class="item bar bar-dark">
        <h1 class="title">Log In</h1>
      </div>
      <form name="loginForm" class="list login-form" novalidate>
        <label class="item item-input">
          <span class="input-label">Username</span>
          <input id="loginUsername" type="text" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="off" ng-model="user.username" name="username" autofocus="autofocus" required />
        </label>
        <label class="item item-input">
          <span class="input-label">Password</span>
          <input id="loginPassword" type="password" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="off" ng-model="user.password" name="password" required />
        </label>
        <div class="item item-text-wrap">
          Need a Twit-arr account? <a ng-click="goToTwitarr()" style="text-decoration:underline;cursor:pointer">Create one here.</a>
        </div>
        <button class="button button-full button-positive" ng-click="logIn(user)" ng-disabled="form.$invalid || !canSubmit(user)" style="margin-top: 0; margin-bottom: 0">Log In</button>
      </form>
    </ion-content>
  </ion-modal-view>
</script>
<ion-side-menus>
  <ion-side-menu-content edge-drag-threshold="true" drag-content="true">
    <!--
    <ion-nav-bar class="bar-stable bar-dark" animation="no-animation" style="z-index: 8">
      <ion-nav-buttons side="primary">
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
      </ion-nav-buttons>
    </ion-nav-bar>
    -->
    <ion-nav-view name="menuContent" animation="no-animation"></ion-nav-view>
  </ion-side-menu-content>

  <ion-side-menu side="left" expose-aside-when="large" width="180">
    <header class="bar bar-header bar-stable bar-dark" menu-close>
      <h1 class="title yellow">CruiseMonkey</h1>
    </header>
    <ion-content class="has-header" menu-close>
      <ion-list>
        <span ng-switch="lastTab">
				<a class="item" ui-sref="app.events.official"   ui-sref-active="active" ng-switch-when="app.events.official">Events</a>
        <a class="item" ui-sref="app.events.unofficial" ui-sref-active="active" ng-switch-when="app.events.unofficial">Events</a>
        <a class="item" ui-sref="app.events.all"        ui-sref-active="active" ng-switch-when="app.events.all">Events</a>
        <a class="item" ui-sref="app.events.my"         ui-sref-active="active" ng-switch-when="app.events.my">Events</a>
        <a class="item" ui-sref="app.events.official"   ui-sref-active="active" ng-switch-default>Events</a>
        </span>
				<a class="item" ui-sref="app.deck-plans"        ui-sref-active="active">Deck Plans</a>
				<a class="item" ui-sref="app.amenities"         ui-sref-active="active">Amenities</a>
				<a class="item" ui-sref="app.karaoke"           ui-sref-active="active">Karaoke</a>
        <a class="item" ui-sref="app.twitarr-stream"    ui-sref-active="active">Twit-Arr</a>

        <a class="item" ui-sref="app.about"             ui-sref-active="active">About</a>
				<a class="item" ui-sref="app.settings"          ui-sref-active="active">Settings</a>

        <span ng-if="user.loggedIn">
          <a class="item" ui-sref="app.seamail"         ui-sref-active="active">Seamail<span ng-if="unreadSeamail" class="badge badge-assertive">{{unreadSeamail}}</span></a>
        </span>

        <a class="item" ng-if="user.loggedIn" ng-click="logOut()">Log Out</a>
        <a class="item" ng-if="!user.loggedIn" ng-click="logIn()">Log In</a>
      </ion-list>
    </ion-content>
  </ion-side-menu>
</ion-side-menus>
