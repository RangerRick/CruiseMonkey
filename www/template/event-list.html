<ion-view>
	<ion-header-bar class="bar-stable bar-dark" animation="no-animation">
		<div class="buttons">
			<button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
		</div>
		<h1 class="title">{{eventTitle}}</h1>
		<div class="buttons">
			<button class="button button-icon button-cm icon ion-ios-plus" ng-click="addEvent()" ng-if="loggedIn()"></button>
			<button class="button button-icon button-cm icon ion-clock" ng-click="goToNow()"></button>
		</div>
	</ion-header-bar>
	<cm-search-bar placeholder="Search Events" ng-model="searchString"></cm-search-bar>
	<ion-content scroll="true" padding="false" id="event-content" delegate-handle="eventScroll" ng-class="'has-subheader'">
		<ion-list class="event-list">
			<span ng-repeat="entry in entries | eventFilter:searchString track by entry.getId()" id="{{entry.getId()}}">
				<ion-item ng-if="isDay(entry)" class="item-divider event-header">{{prettyDate(entry.day)}}</ion-item>
				<ion-item ng-if="!isDay(entry)" ng-class="'list-entry item-text-wrap ' + (entry.isEven()? 'even':'odd')">
					<span class="item-note">
						<button id="{{entry.getId()}}-favorite" ng-click="onFavoriteChanged(entry)" class="button button-small button-clear button-navy" ng-hide="user.username &amp;&amp; user.username === entry.getUsername()"><i class="icon" ng-class="entry.isFavorite()? 'active ion-ios-heart':'ion-ios-heart-outline'"></i></button>
						<br />
						<button class="button button-small button-clear button-navy" ng-click="openPopover($event, entry)" ng-show="(user.username &amp;&amp; user.username == entry.getUsername())"><i class="icon ion-android-more-vertical"></i></button>
					</span>
					<span>
					<div class="summary">{{entry.getSummary()}}</div>
					<div class="time">Time: {{entry.getDisplayTime()}}</div>
					<div class="createdBy" ng-if="entry.getUsername() != 'official'" ng-bind-html="'Created By: ' + entry.getUsername()"></div>
					<div class="location" ng-if="entry.getLocation()">Location: {{entry.getLocation()}}</div>
					<div class="description" ng-if="entry.getDescription()">{{entry.getDescription()}}</div>
					</span>
				</ion-item>
			</span>
			<div id="the-end"></div>
		</ion-list>
	</ion-content>
</ion-view>
